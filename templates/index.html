{% extends "base.html" %}

{% block content %}
<h1>Project Echo</h1>
<form method="post" action="{{ url_for('index') }}" class="journal-entry-form">
    <textarea name="content" rows="4" cols="50" placeholder="What just happened? What's next?"></textarea>
    <br>
    <button type="submit">Log Entry</button>
</form>

<h2>Past Entries</h2>
<div class="entries-by-date">
    {% for date, entries in entries_by_date %}
    <div class="date-section">
        <h3 class="date-header">{{ date }}</h3>
        <ul class="entries-list" style="list-style-type: none; padding: 0;">
            {% for entry in entries %}
            <li class="entry">
                <a href="{{ url_for('edit', entry_id=entry.id) }}">
                    <span class="timestamp">{{ entry.timestamp.split(' ')[1] }}</span> - {{ entry.content }}
                    {% if entry.time_elapsed %}
                    <span class="time-elapsed">({{ entry.time_elapsed }})</span>
                    {% endif %}
                </a>
            </li>
            {% endfor %}
        </ul>
    </div>
    {% endfor %}
</div>
{% endblock %}