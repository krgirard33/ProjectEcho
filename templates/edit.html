{% extends "base.html" %}

{% block title %}Edit Entry - Project Echo{% endblock %}

{% block content %}
<h1>Edit Journal Entry</h1>
<div class="edit-form-container">
    <form method="post">
        <label for="project">Project:</label>
        <select name="project" id="project" class="project-input-edit">
            <option value="">-- None (Optional) --</option>
            {% for project_name in active_projects %}
            <option value="{{ project_name }}" {% if project_name==entry.project %}selected{% endif %}>
                {{ project_name }}
            </option>
            {% endfor %}
        </select>

        <label for="date">Date:</label>
        <input type="date" id="date" name="date" value="{{ entry_date }}" required class="project-input-edit">

        <label for="time">Time:</label>
        <input type="time" id="time" name="time" value="{{ entry_time }}" required class="project-input-edit"><br>

        <label for="content">Entry Content:</label>
        <textarea name="content" id="content" rows="10" cols="50">{{ entry.content }}</textarea>

        <input type="hidden" name="original_date" value="{{ original_date }}">

        <div class="button-container">
            <button type="submit">Save Changes</button>
            <a href="{{ url_for('calendar_bp.view_day', date=original_date) }}">Cancel</a>
        </div>
    </form>
</div>
{% endblock %}